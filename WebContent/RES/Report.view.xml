<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m" xmlns:smartTable="sap.ui.comp.smarttable" controllerName="RES.Report"
	xmlns:smartForm="sap.ui.comp.smartform" xmlns:html="http://www.w3.org/1999/xhtml">
	<FixFlex id="idReportObj" xmlns="sap.ui.layout" visible="true"
		vertical="true" fixFirst="true" fixContentSize="auto" minFlexSize="0">

		<fixContent>

			<ObjectHeader xmlns="sap.m" id="idRepHeader" title="{Dealername}"

				number="{Repkey}" numberUnit="" introActive="" titleActive="true"
				showTitleSelector="false" numberState="None" condensed="false"
				backgroundDesign="" responsive="true" fullScreenOptimized="false">
				<attributes>
					<ObjectAttribute title="{i18n>RepPage.Type}"
						text="{ parts: [ {path:'Report'}], formatter : '.formatter.formatReportTitle' }" />
					<ObjectAttribute title="{i18n>RepPage.Period}"
						text="{ parts: [ {path: 'Month'}, {path: 'Year'} ], formatter : '.formatter.formatDate' }" />
				</attributes>
				<statuses>
					<ObjectStatus title="{i18n>RepPage.Status}"
						text="{ parts: [ {path: 'Status'}], formatter : '.formatter.formatStatus' }" />
				</statuses>
				<headerContainer>
					<HeaderContainer xmlns="sap.suite.ui.commons">
						<items>
							<HBox xmlns="sap.m" class="sapUiSmallMarginTop">

								<items>

									<Button enabled="{= ${Status}==='S' ? true:false }" class="sapUiSmallMarginEnd"
										visible="{settings>/bLocal}" press="onSubmit" text="{i18n>btnSubmit}"
										icon="sap-icon://complete" />
									<Button press="onApprove" text="{i18n>btnApprove}" class="sapUiSmallMarginEnd"
										icon="sap-icon://accept" enabled="{= ${Status}==='P' ? true:false }"
										visible="{settings>/bCentral}" />
									<Button press="onReject" text="{i18n>btnReject}" class="sapUiSmallMarginEnd"
										visible="{settings>/bCentral}" icon="sap-icon://decline"
										enabled="{= ( ${Status}==='A' || ${Status}==='P' ) ? true:false }" />
								</items>
							</HBox>
						</items>
					</HeaderContainer>


				</headerContainer>
			</ObjectHeader>


			<Toolbar xmlns="sap.m" id="idTblItm">
				<content>
					<Text text="{i18n>items}" />
					<ToolbarSpacer xmlns="sap.m" />
					<Button xmlns="sap.m" id="btnUpload" enabled="{settings>/oItem/bUpload}"
						press="onItmDataUpload" text="{i18n>btnUpload}" icon="sap-icon://upload" />
					<Button xmlns="sap.m" id="btnAdd" enabled="{settings>/oItem/bAdd}"
						press="onAddItem" text="{i18n>btnAdd}" icon="sap-icon://add" />
					<Button xmlns="sap.m" id="btnEdit" enabled="{settings>/oItem/bEdit}"
						press="onEditItem" text="{i18n>btnEdit}" icon="sap-icon://edit" />
					<Button xmlns="sap.m" id="btnView" enabled="{settings>/oItem/bView}"
						press="onDisplayItem" text="{i18n>btnDisplay}" icon="sap-icon://display" />
					<Button xmlns="sap.m" id="btnDel" press="onDeleteItem"
						enabled="{settings>/oItem/bDelete}" text="{i18n>btnDelete}" icon="sap-icon://delete" />
					<MenuButton xmlns="sap.ui.commons" id="btnPrintKPI" 
								text="{i18n>btnPrint}" visible="{settings>/bKPIRep}" >
								<menu>
									<Menu xmlns="sap.ui.unified">
										<items> 
											<MenuItem  id="idPrintPC"
												text="{i18n>btnPrintPC}" select="onPrintPC" />
											<MenuItem id="idPrintLCV"
												text="{i18n>btnPrintLCV}" select="onPrintCV"/>
										</items>
									</Menu>
								</menu>
							</MenuButton>
				</content>
			</Toolbar>
		</fixContent>
		<flexContent>

		</flexContent>

	</FixFlex>
	<Dialog xmlns="sap.m" id="idFormDialog" stretch="false"
		contentWidth="80%" contentHeight="80%" resizable="true"
		afterOpen=".oItemDlgController.onAfterOpen" afterClose=".oItemDlgController.onAfterClose ">

		<buttons>
			<Button text="{i18n>btnErrors}" press=".oItemDlgController.onBtnDisplayErrors"
				enabled="false" />
			<Button text="{i18n>btnSave}" press=".oItemDlgController.onBtnSaveDialog" />
			<Button text="{i18n>btnClose}" press=".oItemDlgController.onBtnCloseDialog" />
		</buttons>
	</Dialog>
</mvc:View>